<html>

<head>
<title>HTML5 Canvas &mdash; Demo asteroid</title>
<meta http-equiv="content-type" content="text/html; charset=UTF8">
<script type="text/javascript" src="lib/dat.gui.js"></script>
<script type="text/javascript" src="lib/jquery-3.4.1.min.js"></script>

<style>
    canvas {border: solid 1px black}
    img {display: none}
    td {vertical-align: top;}

</style>
</head>

<script type="module">
    import {AsteroidController} from "./js/controllers/asteroid_controller.js";
    import {Settings} from "./js/config.js";

    let controller;
    

    $(document).ready(event => {
        controller = new AsteroidController($("#canvas"));
        controller.updateView();
    });

    $("#debug").on("click", event => {
        Settings.DEBUG = !Settings.DEBUG;
    })

    $("#asteroidCount").change(event => {
        controller.setMaximumAsteroids(event.target.value);
    })

    $("#reloadDelay").change(event => {
        controller.setReloadDelay(event.target.value);
    });

</script>

<body>
    
    <table>
        <thead>
            <tr>
                <td><h2>Asteroid</h2></td>
                <td><h2>Description</h2></td>
            </tr>
        </thead>
        <tbody>
        <tr>
            <td>
                <canvas id="canvas" width="600" height="600"></canvas>
            </td>

            <td>
                <h3>Part 1: <i>Animation and keyboard</i></h3>
                <p>Spaceship controls:</p>
                <ul>
                    <li>W key: move ship forward</li>
                    <li>S key: move ship backwards</li>
                    <li>D key: rotate ship to the right</li>
                    <li>A key: rotate ship to the left</li>
                    <li>Space key: Shoot a bullet from the spaceship</li>
                </ul>

                <p>Restrictions:</p>
                <ul>
                    <li>Gun needs to reload for two seconds before it can fire again.</li>
                    <li>When an asteroid is destroyed a new one takes its place in a random location.</li>
                </ul>

                <p>Extras:</p>
                <ul>
                    <li>View the angles and origin of the spaceship, bullet and asteroids by clicking on the "Debug Mode" button below the canvas.</li>

                    <li>The spaceship and asteroids have a 2d topology, meaning that when they exit the viewable area from the left, right, up or down direction, they will reappear in the opposite side.</li>

                    <li>Change the number of asteroids that appear on screnn by change the its input box</li>

                    <li>Modify the Gun's reload delay</li>
                </ul>

                <a href="puppet.html">Puppet</a>
            </td>        
        </tr>

        <tr>
            <td>Canvas</td>
        </tr>

        </tbody>
    </table>

    <button id="debug">Debug Mode</button>
    <label for="asteroidCount">Number of asteroids:</label>
    <input type="number" id="asteroidCount" value="3">

    <label for="reloadDelay">Reload Delay (in seconds):</label>
    <input type="number" id="reloadDelay" value="2">
    
    

    <img id="spaceship" src="./assets/asteroid/spaceship.png">
    <img id="bullet" src="./assets/asteroid/bullet.png">
    <img id="engine" src="./assets/asteroid/engine_fire.png">
    <img id="bullet" src="./assets/asteroid/bullet.png">
    <img id="asteroid1" src="./assets/asteroid/asteroid1.png">
    
</body>
</html>   
